# GitHub Issues 分析報告
生成時間：2025-11-08

## 📊 Issues 總覽
- **總數量**：21 個 open issues
- **分類統計**：Bug (12) | 功能請求 (9)
- **待處理**：10 個有效 issues（排除空白/標題不明確的 issues）
- **建議關閉**：11 個（空白、標題不明確、資訊不足）

---

## 🔥 高優先度（需立即處理）

### 分組 1：ibon 平台核心問題
**影響範圍**：核心搶票功能失效

#### #67 - ibon 預設網址無限自動跳轉官網
- **平台**：iBon (NoDriver)
- **影響**：核心功能
- **狀態**：待處理
- **描述**：選擇預設 ibon 網址或不輸入網址時，會強制跳轉回官網無法登入；選擇預設拓元再改為 ibon 網址則正常
- **相關問題**：該用戶同時回報選擇 1 張票卻結帳 2 張的問題（已在評論中說明為已知問題，可手動取消多餘票券）
- **建議**：
  1. 檢查 ibon NoDriver 初始化邏輯，對比拓元流程
  2. 可能與 ibon 的 redirect 偵測有關
  3. 檢查 src/nodriver_ibon.py 的導航邏輯

#### #64 - ibon 座位區無法點擊
- **平台**：iBon (NoDriver)
- **影響**：核心功能（特定場次）
- **狀態**：待處理
- **描述**：特定 ibon 場次的座位區元素被隱藏，無法使用一般方式點擊；用戶提到該場次可能需要 Shadow DOM 穿透
- **測試網址**：https://orders.ibon.com.tw/application/UTK02/UTK0201_000.aspx?PERFORMANCE_ID=B09WHIMH&PRODUCT_ID=B09UWCMX
- **建議**：
  1. 檢查該場次是否使用 Shadow DOM
  2. 參考 docs/06-api-reference/shadow_dom_pierce_guide.md
  3. 可能需要使用 CDP 協議的 DOM.querySelector 穿透 Shadow DOM

---

### 分組 2：自動刷新功能失效（多平台）
**影響範圍**：降低搶票成功率

#### #54 - TixCraft 不會自動刷新
- **平台**：TixCraft (NoDriver)
- **影響**：核心功能
- **狀態**：**可能已在 2025.11.08 修復**
- **描述**：沒票時不會自動刷新頁面
- **CHANGELOG 記錄**：2025.11.08 修復全平台自動重載邏輯
- **建議**：請用戶更新到最新版本並回報結果（若已解決可使用範本 1 關閉）

#### #66 - KKTIX 沒票時不會自動刷新
- **平台**：KKTIX (NoDriver, exe)
- **影響**：核心功能
- **狀態**：**可能已在 2025.11.08 修復**
- **描述**：使用 NoDriver 時沒票不會自動刷新；用戶希望新增「取消自動暫停」功能
- **CHANGELOG 記錄**：2025.11.08 修復全平台自動重載邏輯
- **建議**：請用戶更新到最新版本並回報結果（若已解決可使用範本 1 關閉）

#### #47 - KKTIX 買到票後自動暫停
- **平台**：KKTIX (NoDriver, exe)
- **影響**：多帳號使用場景
- **狀態**：待處理
- **描述**：買到票後會自動暫停，手動繼續後又立即暫停（暫停關鍵字未設定）
- **建議**：
  1. 檢查 KKTIX NoDriver 暫停邏輯觸發條件
  2. 確認是否誤判特定頁面文字為暫停關鍵字
  3. 查看 src/nodriver_kktix.py 的暫停機制

---

### 分組 3：登入與驗證問題

#### #63 - TixCraft SID 無法登入
- **平台**：TixCraft (NoDriver + UC)
- **影響**：核心功能
- **狀態**：待處理
- **描述**：複製 Google 登入後的 SID 貼到設定檔中，NoDriver 無法登入；UC 無法開啟網頁
- **建議**：
  1. 檢查 Cookie SID 格式與過期時間
  2. 確認 NoDriver 的 Cookie 注入邏輯
  3. UC 無法開啟可能與 Chrome 版本不相容

#### #50 - KKTIX 登入機器人檢查過不了
- **平台**：KKTIX (NoDriver, exe + Python)
- **影響**：核心功能
- **狀態**：待處理
- **描述**：登入階段機器人驗證無限循環
- **建議**：
  1. 檢查 KKTIX 的反機器人機制是否更新
  2. 確認 NoDriver 的反偵測參數是否正確
  3. 可能需要增加隨機延遲或行為模擬

---

## ⚠️ 中優先度（重要但非緊急）

### 分組 4：平台特定問題

#### #62 - Ticketmaster 區域選擇問題
- **平台**：Ticketmaster (UC)
- **影響**：特定場景（Nearly Gone/Last Seat）
- **狀態**：待處理
- **描述**：
  1. Bug 1：設定關鍵字 "cat2" 無法選擇 cat2 的任何區域（221/222 顯示 Nearly Gone）
  2. Bug 2：區域顯示 "Nearly Gone / Last Seat" 時機器會跳過，但該區域仍可選擇多張票
- **建議**：
  1. 檢查 Ticketmaster 區域匹配邏輯
  2. 新增選項「忽略 Nearly Gone/Last Seat 提示」
  3. 改善關鍵字匹配策略（cat2 應匹配所有 cat2 子區域）

#### #37 - 遠大（KHAM）無法自動填入問題答案
- **平台**：KHAM/TicketPlus (NoDriver, Python)
- **影響**：輔助功能
- **狀態**：待處理
- **描述**：福利加購時無法自動填入問題答案
- **建議**：
  1. 檢查 KHAM 平台的驗證問題處理邏輯
  2. 確認問題是否在 2025.11.03 的關鍵字匹配修復範圍內
  3. 查看 src/nodriver_ticketplus.py (KHAM 使用 TicketPlus 引擎)

#### #11 - Cityline 平台失效
- **平台**：Cityline (NoDriver, Python)
- **影響**：整個平台
- **狀態**：待處理（資訊不足）
- **描述**：打開網址後沒有自動化操作
- **建議**：
  1. 需要更多資訊（錯誤日誌、具體網址）
  2. 檢查 Cityline 平台是否有重大改版
  3. 確認是否支援該平台（可能需要新增支援）

---

## 💡 低優先度（功能請求）

### 分組 5：座位選擇功能增強

#### #49 - TicketPlus 自行選位
- **平台**：TicketPlus
- **狀態**：待評估
- **描述**：希望支援自行選位功能
- **建議**：評估實作複雜度與使用需求

#### #46 - 寬宏座位選擇
- **平台**：寬宏
- **狀態**：待評估
- **描述**：希望支援自動選位（指定排數、左中右位置）
- **建議**：評估實作複雜度與使用需求

#### #38 - 拓元選位後數量選擇分類問題
- **平台**：TixCraft
- **狀態**：待評估
- **描述**：選位後需要選擇不同種類的數量（周邊加購、身障票+陪同票），目前會預設第一個選項
- **建議**：
  1. 評估是否為常見需求
  2. 可考慮新增設定選項指定各類別數量

---

### 分組 6：其他功能需求

#### #68 - 新增 TIXRE 售票平台
- **平台**：TIXRE（新平台）
- **狀態**：待評估
- **描述**：希望支援 TIXRE 平台
- **建議**：評估平台技術架構與使用需求

#### #65 - 搶到票通知功能
- **平台**：全平台
- **狀態**：待評估
- **描述**：搶到票時發送通知（Gmail/Discord webhook）
- **建議**：
  1. 可考慮實作（實用功能）
  2. 建議使用 webhook 方式（較輕量）

#### #21 - 支援 V3 驗證碼 API
- **平台**：全平台
- **狀態**：待評估
- **描述**：希望支援自行購買的 Capsolver key
- **建議**：
  1. 後端已有 capsolver_key 設定框
  2. 評估是否需要在前端 UI 新增設定選項

---

## ❌ 建議關閉的 Issues

### 空白或標題不明確（建議使用範本 2 關閉）

#### #61 - Chrome 找不到瀏覽器執行檔
- **狀態**：空白標題 + 資訊不足
- **描述**：FileNotFoundError 找不到 Chrome binary
- **建議**：這是環境問題，需要使用者安裝 Chrome 或指定路徑；建議使用範本 2 關閉並引導至安裝文件

#### #45 - 如何操作
- **狀態**：使用問題（非 bug/feature）
- **描述**：新手不懂如何下載操作，希望有影片教學
- **建議**：
  1. 這不是 issue，應引導至 Discussions 或文件
  2. 可考慮關閉並回復文件連結
  3. 評估是否需要製作影片教學（但這不在開發範圍內）

#### #44 - 空白 (拓元選票量最多)
- **狀態**：標題不明確，內容過於簡略
- **描述**：希望選票量最多的區域、自主選區更準確
- **建議**：請使用者補充詳細需求或關閉

#### #42 - 完全空白
- **狀態**：空白 issue
- **建議**：使用範本 2 關閉

#### #41 - 感謝訊息（非 issue）
- **狀態**：感謝訊息 + 使用問題
- **建議**：引導至 Discussions 或文件後關閉

---

## 🔗 重複問題

### 自動刷新問題
- **#54 (TixCraft)** 與 **#66 (KKTIX)** - 都是「沒票時不會自動刷新」
- **建議**：若 2025.11.08 版本已修復，可合併為單一 issue 追蹤

---

## 📋 處理建議順序

### 第一優先（影響核心功能）
1. **#67 - ibon 無限跳轉官網** - 阻擋 ibon 平台使用
2. **#64 - ibon 座位區無法點擊** - 影響特定場次
3. **#63 - TixCraft SID 無法登入** - 阻擋拓元 Cookie 登入
4. **#54 + #66 - 自動刷新失效** - 請用戶驗證 2025.11.08 版本是否已修復

### 第二優先（平台特定問題）
5. **#62 - Ticketmaster 區域選擇問題** - 影響特定場景
6. **#50 - KKTIX 登入機器人檢查** - 反機器人偵測問題
7. **#47 - KKTIX 自動暫停** - 影響多帳號使用
8. **#37 - KHAM 無法自動填入答案** - 確認是否已在 2025.11.03 修復

### 第三優先（清理與評估）
9. **批次關閉空白 issues** - #61, #44, #42, #41（使用範本 2）
10. **評估功能請求** - #65 (通知功能)、#38 (數量分類)、#68 (TIXRE 平台)

---

## 📝 快速勝利（容易修復且影響大）

1. **#54 + #66** - 若 2025.11.08 已修復，直接請用戶驗證並關閉
2. **批次關閉空白 issues** - 快速清理 issue 列表
3. **#37 (KHAM)** - 若 2025.11.03 已修復，請用戶驗證並關閉

---

## 🔍 需要更多資訊的 Issues

- **#11 (Cityline)** - 需要錯誤日誌與測試網址
- **#44** - 需求不明確，需要使用者補充
- **#45** - 非 issue，應引導至文件或 Discussions

---

## 📌 統計摘要

| 類別 | 數量 |
|------|------|
| 高優先度 Bug | 7 |
| 中優先度 Bug | 3 |
| 功能請求 | 6 |
| 建議關閉（空白/不明確） | 5 |
| **總計** | **21** |

---

## ✅ 已在最新版本修復的可能 Issues

根據 CHANGELOG.md (2025.11.08)：
- **#54** - TixCraft 不會自動刷新 → 可能已修復（全平台自動重載邏輯）
- **#66** - KKTIX 不會自動刷新 → 可能已修復（全平台自動重載邏輯）

根據 CHANGELOG.md (2025.11.03)：
- **#37** - KHAM 無法自動填入答案 → 可能已修復（多平台關鍵字匹配修復）

**建議動作**：請相關使用者更新到最新版本並回報結果，若已解決可使用範本 1 關閉。
