# 平台實作檢查清單 (Platform Implementation Checklist)

## 概述

本文件提供**5 個售票平台的完整功能檢查清單**，用於：
- ✅ 驗證每個平台的 12-Stage 功能完整性
- 📊 評估平台完成度（百分比）
- 🎯 識別待補強項目
- 🚀 規劃新平台開發優先度

**檢查範圍**：
- **平台**：TixCraft、KKTIX、iBon、TicketPlus、KHAM
- **階段**：12-Stage 搶票標準流程
- **功能項目**：64 個功能需求（FR-001 至 FR-064）

**資料來源**：
- 規格：`specs/001-ticket-automation-system/spec.md`
- 驗證矩陣：`docs/05-validation/spec-validation-matrix.md`
- 程式碼：`src/nodriver_tixcraft.py`

**更新頻率**：每次新增平台功能或修改實作時同步更新

---

## 圖例說明

### 功能狀態
- **✅ 完整支援**：功能已完整實作並通過測試
- **🔄 部分支援**：功能部分完成，或某些場景未涵蓋
- **⬜ 未支援**：功能尚未開發
- **❌ 不適用**：該平台不需要此功能（例如：TixCraft 無排隊機制）

### 優先度
- **🔴 P1（高）**：核心功能，影響購票成功率
- **🟡 P2（中）**：支援功能，提升使用體驗
- **🟢 P3（低）**：優化項目，非必要功能

---

## 平台支援度總覽

### 完成度排名

| 排名 | 平台 | 完整支援 | 部分支援 | 未支援 | 總分 | 完成度 | 評級 |
|------|------|----------|----------|--------|------|--------|------|
| 1 | **TixCraft** | 42/64 | 12/64 | 10/64 | 54/64 | **84.4%** | 🟢 優秀 |
| 2 | **KKTIX** | 38/64 | 15/64 | 11/64 | 53/64 | **82.8%** | 🟢 優秀 |
| 3 | **iBon** | 24/64 | 28/64 | 12/64 | 52/64 | **81.3%** | 🟡 良好 |
| 4 | **TicketPlus** | 8/64 | 4/64 | 52/64 | 12/64 | **18.8%** | 🔴 待開發 |
| 5 | **KHAM** | 8/64 | 6/64 | 50/64 | 14/64 | **21.9%** | 🔴 待開發 |

**評分說明**：
- 完整支援：1.0 分
- 部分支援：0.5 分
- 未支援：0 分
- 總分 = (完整支援 × 1.0 + 部分支援 × 0.5) / 64

---

## 12-Stage 功能檢查清單

### Stage 1：環境初始化

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-001 | 多種 WebDriver 類型支援 | ✅ | ✅ | ✅ | ✅ | ✅ | 🔴 P1 |
| FR-002 | 瀏覽器選項初始化 | ✅ | ✅ | ✅ | ✅ | ✅ | 🔴 P1 |
| FR-003 | 瀏覽器擴充功能載入 | ⬜ | ⬜ | ⬜ | ⬜ | ⬜ | 🟢 P3 |
| FR-004 | settings.json 結構驗證 | 🔄 | 🔄 | 🔄 | 🔄 | 🔄 | 🟡 P2 |

**階段完成度**：
- TixCraft: 75% (2.5/4)
- KKTIX: 75% (2.5/4)
- iBon: 75% (2.5/4)
- TicketPlus: 75% (2.5/4)
- KHAM: 75% (2.5/4)

**待補強項目**：
- 🔴 高優先：FR-004 完整 JSON Schema 驗證（所有平台）
- 🟢 低優先：FR-003 瀏覽器擴充功能載入

---

### Stage 2：身份認證

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-005 | Cookie 注入登入 | ✅ | ❌ | ✅ | ⬜ | ⬜ | 🔴 P1 |
| FR-006 | 使用者名稱/密碼登入 | ❌ | ✅ | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-007 | 驗證登入狀態 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-008 | 維持會話狀態 | ✅ | ✅ | ✅ | ✅ | ✅ | 🔴 P1 |

**階段完成度**：
- TixCraft: 75% (3/4)
- KKTIX: 75% (3/4)
- iBon: 62.5% (2.5/4)
- TicketPlus: 25% (1/4)
- KHAM: 25% (1/4)

**平台特性**：
- **TixCraft**：Cookie 注入（tixcraft_sid）為主要登入方式
- **KKTIX**：帳密登入 + Facebook OAuth
- **iBon**：Cookie 注入（ibonqware）+ 帳密回退

**待補強項目**：
- 🔴 高優先：iBon FR-007 登入狀態驗證標準化
- 🔴 高優先：TicketPlus、KHAM 登入機制實作（FR-005 或 FR-006）

---

### Stage 3：頁面監控與重載

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-009 | 自動重載頁面 | ✅ | ✅ | ✅ | ⬜ | ⬜ | 🔴 P1 |
| FR-010 | 過熱保護 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-011 | 彈出視窗處理 | 🔄 | 🔄 | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-012 | 即將開賣頁面偵測 | ✅ | ❌ | ❌ | ❌ | ❌ | 🟡 P2 |
| FR-013 | 排隊/等候室頁面處理 | ❌ | ✅ | ❌ | ❌ | ❌ | 🟡 P2 |

**階段完成度**：
- TixCraft: 70% (3.5/5)
- KKTIX: 70% (3.5/5)
- iBon: 50% (2.5/5)
- TicketPlus: 0% (0/5)
- KHAM: 0% (0/5)

**平台特性**：
- **TixCraft**：「即將開賣」頁面自動重載（平台特有）
- **KKTIX**：排隊機制完整支援（平台特有）
- **iBon**：基本重載機制，過熱保護待完善

**待補強項目**：
- 🟡 中優先：FR-011 統一彈窗處理機制（所有平台）
- 🔴 高優先：TicketPlus、KHAM 自動重載機制（FR-009）

---

### Stage 4：日期選擇 ✅ 已完整文件化

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-014 | 偵測日期選擇佈局類型 | ✅ | 🔄 | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-015 | 取得所有可用日期選項 | ✅ | 🔄 | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-016 | 過濾售罄日期 | ✅ | 🔄 | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-017 | 自動日期選擇（總開關） | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-017-1 | 關鍵字匹配優先（Early Return） | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-017-2 | 模式回退（Conditional Fallback） | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-017-3 | 停止並等待手動 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-018 | enable=false 時完全停用 | ✅ | ✅ | ✅ | ⬜ | ⬜ | 🔴 P1 |
| FR-019 | 驗證日期選擇成功 | ✅ | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |

**階段完成度**：
- TixCraft: **100%** (9/9) ✅
- KKTIX: 83.3% (7.5/9)
- iBon: 50% (4.5/9)
- TicketPlus: 0% (0/9)
- KHAM: 0% (0/9)

**文件參考**：[Stage 4: 日期選擇機制](../02-mechanisms/04-date-selection.md)

**平台特性**：
- **TixCraft**：按鈕模式，完整支援 Early Return + Conditional Fallback
- **KKTIX**：價格列表模式（特殊），部分支援關鍵字匹配
- **iBon**：下拉選單模式，Shadow DOM 處理，基礎功能支援

**待補強項目**：
- 🔴 高優先：iBon 完整 Early Return Pattern 支援（FR-017-1）
- 🔴 高優先：iBon Conditional Fallback 支援（FR-017-2）
- 🔴 高優先：TicketPlus、KHAM 日期選擇機制完整實作（FR-014 至 FR-019）

---

### Stage 5：區域/座位選擇 ✅ 已完整文件化

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-020 | 偵測區域選擇佈局類型 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-021 | 取得所有區域選項及定價 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-022 | 排除關鍵字過濾 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-023 | 自動區域選擇（總開關） | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-023-1 | 關鍵字匹配優先（Early Return） | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-023-2 | 模式回退（Conditional Fallback） | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-023-3 | 停止並等待手動 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-024 | enable=false 時完全停用 | ✅ | ✅ | ✅ | ⬜ | ⬜ | 🔴 P1 |
| FR-025 | 座位圖處理 | ❌ | ❌ | ❌ | ❌ | 🔄 | 🟡 P2 |
| FR-026 | 允許非相鄰座位 | ⬜ | ⬜ | ⬜ | ⬜ | ⬜ | 🟢 P3 |

**階段完成度**：
- TixCraft: 80% (8/10)
- KKTIX: 80% (8/10)
- iBon: 52.5% (5.25/10)
- TicketPlus: 0% (0/10)
- KHAM: 5% (0.5/10)

**文件參考**：[Stage 5: 區域選擇機制](../02-mechanisms/05-area-selection.md)

**平台特性**：
- **TixCraft**：按鈕模式，支援 AND 邏輯關鍵字（例：`VIP+搖滾區`）
- **KKTIX**：價格列表模式，兩階段選擇（價格表 → 票數輸入）
- **iBon**：Shadow DOM，基礎功能支援，待完善
- **KHAM**：座位圖模式（部分實作），待完整支援

**待補強項目**：
- 🔴 高優先：iBon 完整 Early Return + Conditional Fallback（FR-023-1, FR-023-2）
- 🟡 中優先：KHAM 座位圖完整支援（FR-025）
- 🟢 低優先：允許非相鄰座位功能（FR-026）

---

### Stage 6：票券數量

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-027 | 偵測票券數量輸入類型 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-028 | 設定票券數量 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-029 | 處理超過可用數量 | ✅ | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |
| FR-030 | 驗證票券數量設定 | ✅ | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |

**階段完成度**：
- TixCraft: **100%** (4/4) ✅
- KKTIX: 75% (3/4)
- iBon: 25% (1/4)
- TicketPlus: 0% (0/4)
- KHAM: 0% (0/4)

**平台特性**：
- **TixCraft**：下拉選單模式，完整驗證機制
- **KKTIX**：價格列表模式（特殊），兩階段票數設定
- **iBon**：Angular SPA，需要事件觸發，基礎支援

**待補強項目**：
- 🔴 高優先：KKTIX 超過可用數量處理（FR-029）
- 🔴 高優先：iBon 票券數量設定完整支援（FR-027 至 FR-030）
- 🔴 高優先：TicketPlus、KHAM 票券數量機制實作

---

### Stage 7：驗證碼處理 ✅ 已完整文件化

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-031 | 偵測驗證碼類型 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-032 | 提取驗證碼圖片 | ✅ | ✅ | ✅ | ⬜ | ⬜ | 🔴 P1 |
| FR-033 | OCR 辨識驗證碼 | ✅ | ✅ | ✅ | ⬜ | ⬜ | 🔴 P1 |
| FR-034 | beta OCR 模型選項 | ✅ | ✅ | ✅ | ✅ | ✅ | 🟡 P2 |
| FR-035 | 自動輸入驗證碼 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-036 | 強制送出或等待確認 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-037 | 手動驗證碼回退 | ✅ | ✅ | ✅ | ⬜ | ⬜ | 🔴 P1 |
| FR-038 | 驗證碼重新整理 | 🔄 | ⬜ | ⬜ | ⬜ | ⬜ | 🟢 P3 |
| FR-039 | 驗證碼重試機制 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🟡 P2 |

**階段完成度**：
- TixCraft: 94.4% (8.5/9)
- KKTIX: 88.9% (8/9)
- iBon: 72.2% (6.5/9)
- TicketPlus: 11.1% (1/9)
- KHAM: 11.1% (1/9)

**文件參考**：[Stage 7: 驗證碼處理機制](../02-mechanisms/07-captcha-handling.md)

**平台特性**：
- **TixCraft**：Canvas 圖片驗證碼，OCR 辨識
- **KKTIX**：問答式驗證碼（獨特），fail_list 機制避免重複錯誤
- **iBon**：Shadow DOM 圖片驗證碼，DOMSnapshot 擷取

**待補強項目**：
- 🟡 中優先：iBon 自動輸入與強制送出完善（FR-035, FR-036）
- 🟢 低優先：TixCraft 驗證碼重新整理標準化（FR-038）
- 🔴 高優先：TicketPlus、KHAM 驗證碼機制實作（FR-031 至 FR-039）

---

### Stage 8：表單填寫

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-040 | 偵測必填欄位 | 🔄 | 🔄 | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-041 | 自動填寫個人資訊 | 🔄 | 🔄 | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-042 | 自訂問題答案處理 | 🔄 | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |
| FR-043 | 自動答案猜測 | ⬜ | ⬜ | ⬜ | ⬜ | ⬜ | 🟢 P3 |

**階段完成度**：
- TixCraft: 37.5% (1.5/4)
- KKTIX: 37.5% (1.5/4)
- iBon: 25% (1/4)
- TicketPlus: 0% (0/4)
- KHAM: 0% (0/4)

**待補強項目**（🔴 高優先度）：
- FR-040：統一的表單欄位偵測機制（所有平台）
- FR-041：標準化個人資訊設定結構（建議：`settings.json → personal_info`）
- FR-042：完整的自訂問題處理邏輯（TixCraft、KKTIX）
- FR-043：常見問題答案資料庫（例如：「興趣」→「音樂」）

**備註**：
- **目前狀態**：表單填寫功能分散在各平台主流程中，缺乏統一標準
- **影響**：SC-003（10 秒內完成購票）可能無法達成
- **建議**：優先建立統一的表單填寫框架

---

### Stage 9：同意條款處理

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-044 | 偵測同意元素 | ✅ | 🔄 | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-045 | 自動勾選同意 | ✅ | 🔄 | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-046 | 平台特定同意對話框 | ❌ | ❌ | ❌ | 🔄 | 🔄 | 🟡 P2 |
| FR-047 | 驗證同意完成 | ✅ | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |

**階段完成度**：
- TixCraft: 75% (3/4)
- KKTIX: 37.5% (1.5/4)
- iBon: 25% (1/4)
- TicketPlus: 12.5% (0.5/4)
- KHAM: 12.5% (0.5/4)

**平台特性**：
- **TixCraft**：標準核取方塊，完整支援
- **TicketPlus**：實名驗證對話框（特殊），部分實作
- **KHAM**：實名卡片接受（特殊），部分實作

**待補強項目**：
- 🟡 中優先：KKTIX、iBon 自動勾選完善（FR-044, FR-045）
- 🟡 中優先：TicketPlus、KHAM 平台特定對話框完整測試（FR-046）
- 🟡 中優先：統一的同意驗證機制（FR-047）

---

### Stage 10：訂單確認與送出

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-048 | 檢視訂單詳情 | 🔄 | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |
| FR-049 | 定位送出按鈕 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-050 | 處理確認對話框 | 🔄 | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |
| FR-051 | 搶到票音訊通知 | ✅ | ✅ | ✅ | ✅ | ✅ | 🟡 P2 |
| FR-052 | 送出訂單音訊通知 | ✅ | ✅ | ✅ | ✅ | ✅ | 🟡 P2 |
| FR-053 | 驗證訂單送出成功 | 🔄 | 🔄 | ⬜ | ⬜ | ⬜ | 🟡 P2 |

**階段完成度**：
- TixCraft: 66.7% (4/6)
- KKTIX: 66.7% (4/6)
- iBon: 41.7% (2.5/6)
- TicketPlus: 33.3% (2/6)
- KHAM: 33.3% (2/6)

**待補強項目**：
- 🟡 中優先：FR-048 標準化訂單詳情驗證（所有平台）
- 🔴 高優先：FR-049 iBon 送出按鈕定位完善
- 🟡 中優先：FR-050 統一確認對話框處理機制
- 🟡 中優先：FR-053 標準化訂單成功偵測

---

### Stage 11：排隊與付款

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-054 | 偵測排隊頁面 | ❌ | ✅ | ❌ | ❌ | ❌ | 🟡 P2 |
| FR-055 | 排隊等待 | ❌ | ✅ | ❌ | ❌ | ❌ | 🟡 P2 |
| FR-056 | 排隊完成偵測 | ❌ | ✅ | ❌ | ❌ | ❌ | 🟡 P2 |
| FR-057 | 排隊失敗重試 | ❌ | ✅ | ❌ | ❌ | ❌ | 🟡 P2 |

**階段完成度**：
- TixCraft: 0% (0/4) - 不適用（無排隊機制）
- KKTIX: **100%** (4/4) ✅
- iBon: 0% (0/4) - 不適用
- TicketPlus: 0% (0/4) - 不適用
- KHAM: 0% (0/4) - 不適用

**平台特性**：
- **KKTIX**：完整排隊機制（平台特有）
  - 排隊頁面偵測
  - 耐心等待（避免觸發反機器人）
  - 自動重載機制
- **其他平台**：無排隊機制，此階段不適用

**備註**：
- Cityline（香港）有等候室機制，但目前未完整支援
- 此階段功能為平台特定，不影響其他平台評分

---

### Stage 12：錯誤處理與重試

| FR ID | 功能描述 | TixCraft | KKTIX | iBon | TicketPlus | KHAM | 優先度 |
|-------|----------|----------|-------|------|------------|------|--------|
| FR-058 | 錯誤分類 | 🔄 | 🔄 | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-059 | 詳細錯誤記錄 | ✅ | ✅ | ✅ | ✅ | ✅ | 🟡 P2 |
| FR-060 | 自動重試（NoDriver CDP 原生） | ✅ | ✅ | ✅ | 🔄 | 🔄 | 🔴 P1 |
| FR-061 | 可配置重試間隔 | ✅ | ✅ | ✅ | ⬜ | ⬜ | 🟡 P2 |
| FR-062 | 錯誤通知 | 🔄 | 🔄 | 🔄 | ⬜ | ⬜ | 🟡 P2 |
| FR-063 | 售罄持續監控 | ✅ | ✅ | 🔄 | ⬜ | ⬜ | 🔴 P1 |
| FR-064 | NoDriver CDP 原生方法 | ✅ | ✅ | ✅ | 🔄 | 🔄 | 🔴 P1 |

**階段完成度**：
- TixCraft: 78.6% (5.5/7)
- KKTIX: 78.6% (5.5/7)
- iBon: 71.4% (5/7)
- TicketPlus: 21.4% (1.5/7)
- KHAM: 21.4% (1.5/7)

**核心架構原則（憲法第 I 條）**：
- FR-060、FR-064：NoDriver 版本必須 100% 使用 CDP 原生方法
- ✅ 允許：CDP `dispatch_mouse_event()` 重試
- ✅ 允許：CDP `perform_search()` DOM 重新查詢
- ❌ 禁止：JavaScript `element.click()` 回退（已被平台偵測）

**待補強項目**：
- 🟡 中優先：FR-058 統一錯誤分類系統（建立標準錯誤代碼 E001-E999）
- 🟡 中優先：FR-062 統一錯誤通知機制（音訊 + 視覺警報）
- 🔴 高優先：TicketPlus、KHAM 完整 CDP 原生方法支援（FR-060, FR-064）

---

## 待補強項目總覽

### 🔴 高優先度（P1）- 影響購票成功率

#### 表單填寫（Stage 8）- 所有平台
- **FR-040**：統一表單欄位偵測機制
- **FR-041**：標準化個人資訊設定結構（`settings.json → personal_info`）

#### TicketPlus 平台
- **Stage 2**：登入機制實作（FR-005 Cookie 或 FR-006 帳密）
- **Stage 3**：自動重載機制（FR-009）
- **Stage 4**：完整日期選擇機制（FR-014 至 FR-019）
- **Stage 5**：完整區域選擇機制（FR-020 至 FR-024）
- **Stage 6**：票券數量機制（FR-027 至 FR-030）
- **Stage 7**：驗證碼處理（FR-031 至 FR-039）
- **Stage 12**：完整 CDP 原生方法支援（FR-060, FR-064）

#### KHAM 平台
- 與 TicketPlus 待補強項目相同（FR-009 至 FR-039、FR-060、FR-064）
- **額外**：座位圖完整支援（FR-025）

#### iBon 平台
- **Stage 4**：完整 Early Return Pattern（FR-017-1）
- **Stage 4**：Conditional Fallback 支援（FR-017-2）
- **Stage 5**：Early Return + Conditional Fallback（FR-023-1, FR-023-2）
- **Stage 6**：票券數量設定完整支援（FR-027 至 FR-030）
- **Stage 7**：自動輸入與強制送出完善（FR-035, FR-036）
- **Stage 10**：送出按鈕定位完善（FR-049）

---

### 🟡 中優先度（P2）- 提升使用體驗

#### 所有平台
- **FR-004**：完整 JSON Schema 驗證（Stage 1）
- **FR-011**：統一彈窗處理機制（Stage 3）
- **FR-042**：完整自訂問題處理（Stage 8）
- **FR-048**：標準化訂單詳情驗證（Stage 10）
- **FR-050**：統一確認對話框處理（Stage 10）
- **FR-053**：標準化訂單成功偵測（Stage 10）
- **FR-058**：統一錯誤分類系統（Stage 12）
- **FR-062**：統一錯誤通知機制（Stage 12）

#### 平台特定
- **KKTIX**：超過可用數量處理（FR-029）
- **TicketPlus、KHAM**：平台特定同意對話框完整測試（FR-046）

---

### 🟢 低優先度（P3）- 優化項目

- **FR-003**：瀏覽器擴充功能載入（所有平台）
- **FR-026**：允許非相鄰座位（所有平台）
- **FR-038**：驗證碼重新整理標準化（TixCraft）
- **FR-043**：自動答案猜測（所有平台）

---

## 開發建議與優先順序

### 優先順序 1：完善核心平台（TixCraft、KKTIX、iBon）

**目標**：將核心平台完成度從 80%+ 提升到 95%+

**具體行動**：
1. **iBon Early Return Pattern 支援**（FR-017-1, FR-023-1）
   - 估計時間：4-6 小時
   - 影響：SC-002（90% 關鍵字成功率）

2. **iBon Conditional Fallback 支援**（FR-017-2, FR-023-2）
   - 估計時間：3-4 小時
   - 影響：SC-002

3. **統一表單填寫框架**（FR-040, FR-041）
   - 估計時間：8-10 小時
   - 影響：SC-003（10 秒內完成購票）

**預期成果**：
- TixCraft: 84.4% → **95%+**
- KKTIX: 82.8% → **95%+**
- iBon: 81.3% → **90%+**

---

### 優先順序 2：建立 TicketPlus 基礎支援

**目標**：將 TicketPlus 從 18.8% 提升到 60%+

**具體行動**：
1. **登入機制**（FR-005 或 FR-006）
   - 估計時間：6-8 小時

2. **日期與區域選擇**（FR-014 至 FR-024）
   - 估計時間：12-16 小時
   - 參考：TixCraft 實作模式

3. **票券數量與驗證碼**（FR-027 至 FR-039）
   - 估計時間：10-12 小時

**預期成果**：
- TicketPlus: 18.8% → **60%+**

---

### 優先順序 3：建立 KHAM 基礎支援

**目標**：將 KHAM 從 21.9% 提升到 60%+

**具體行動**：
- 與 TicketPlus 相同的開發計畫
- **額外**：座位圖演算法（FR-025）
  - 估計時間：8-10 小時

**預期成果**：
- KHAM: 21.9% → **60%+**

---

### 優先順序 4：優化與統一機制

**目標**：提升整體系統品質

**具體行動**：
1. **統一錯誤分類系統**（FR-058）
   - 建立標準錯誤代碼（E001-E999）
   - 估計時間：4-6 小時

2. **統一錯誤通知機制**（FR-062）
   - 音訊 + 視覺警報
   - 估計時間：3-4 小時

3. **完整 JSON Schema 驗證**（FR-004）
   - 估計時間：4-5 小時

**預期成果**：
- 提升 SC-009（100% 驗證涵蓋率）
- 提升 SC-007（100% 通知傳遞率）

---

## 相關文件

### 規格與驗證
- 📋 [功能規格](../../specs/001-ticket-automation-system/spec.md) - FR 完整定義
- 📋 [規格驗證矩陣](./spec-validation-matrix.md) - FR 實作狀態追溯
- 📋 [FR 到程式碼對照表](./fr-to-code-mapping.md) - 函數位置索引

### 機制文件
- ✅ [Stage 4: 日期選擇](../02-mechanisms/04-date-selection.md)
- ✅ [Stage 5: 區域選擇](../02-mechanisms/05-area-selection.md)
- ✅ [Stage 7: 驗證碼處理](../02-mechanisms/07-captcha-handling.md)
- 📋 [12-Stage 標準](../02-development/ticket_automation_standard.md)

### 平台參考
- ✅ [KKTIX 參考實作](../03-implementation/platform-examples/kktix-reference.md)
- ✅ [iBon 參考實作](../03-implementation/platform-examples/ibon-reference.md)

---

## 版本歷史

| 版本 | 日期 | 變更內容 |
|------|------|----------|
| v1.0 | 2025-11 | 初版：建立平台實作檢查清單 |
| | | ✅ 5 平台完整 12-Stage 檢查 |
| | | ✅ 完成度評分與排名 |
| | | ✅ 待補強項目分析 |
| | | ✅ 開發優先順序建議 |

**未來更新**：
- 每次新增平台功能時同步更新檢查清單
- 每季度更新完成度評分
- 根據測試結果調整功能狀態

---

**最後更新**：2025-11（v1.0）
**維護者**：Tickets Hunter 開發團隊
**相關工具**：[規格驗證矩陣](./spec-validation-matrix.md)、[FR 到程式碼對照表](./fr-to-code-mapping.md)
