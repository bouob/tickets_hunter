# Changelog

## 2025.10.30

### ⚠️ BREAKING CHANGE: 關鍵字分隔符號變更

**重要**：關鍵字分隔符號已從逗號 (`,`) 改為分號 (`;`)

**影響範圍**：
- `date_keyword`: 日期關鍵字
- `area_keyword`: 區域關鍵字
- `keyword_exclude`: 排除關鍵字
- `idle_keyword`: 暫停時間關鍵字
- `resume_keyword`: 恢復時間關鍵字

**升級指引**：

請將設定檔中所有關鍵字的逗號 (`,`) 改成分號 (`;`)

範例：
- 日期關鍵字：原本填寫「10/15,10/16」請改成「10/15;10/16」
- 區域關鍵字：原本填寫「VIP區,搖滾區A」請改成「VIP區;搖滾區A」
- 排除關鍵字：原本填寫「輪椅,身障」請改成「輪椅;身障」

**變更原因**：
- 修正 Issue #23：避免與千位分隔符號（如 "3,280" 元）和時間格式衝突
- 提高關鍵字匹配的精確度和可預測性

**新增功能**：
- 關鍵字現在使用精確匹配（不再標準化處理）
- 支援包含逗號的關鍵字（如 "3,280" 可完整匹配）
- 保留空格作為 AND 邏輯分隔符（如 "1280 一般" 匹配包含 "1280" 且包含 "一般" 的文字）

### 使用者介面優化

- 改善網頁設定介面在寬螢幕上的顯示效果（自動調整輸入框寬度）
- 新增互動式平台選擇器，可快速填入支援的售票平台網址
- 改善使用者文件說明，移除技術術語使內容更易理解
- 升級 Bootstrap 框架至 5.3.8 版本

## 2025.10.26

- 改善 iBon 平台日期與區域選擇速度
- 新增 iBon 平台售罄智慧偵測，自動跳過無票頁面減少無效等待
- 改善 TixCraft 與 TicketPlus 日期選擇回退機制，關鍵字失敗時自動切換

## 2025.10.23

- 改善 iBon 平台穩定性（登入過期自動重登、關鍵字回退機制、訂單頁面支援、音效優化）
- 改善 KKTIX/TixCraft 平台選擇邏輯，完全符合統一設計規範（回退機制、匹配摘要、策略訊息、動態設定、目標顯示）
- 新增 README 醒目的問題回報區塊與詳細貢獻指引

## 2025.10.18

- 修正 iBon 平台票券數量選擇穩定性問題（NoDriver 引擎）
- 新增票券數量設定驗證邏輯，確保配置值與實際選定數量一致
- 改善票券數量選擇邏輯，支援多組備選選擇器以提高相容性

## 2025.10.17

- 修正拓元 TixCraft 平台設定檔 SID 自動登入功能（NoDriver 引擎）
- 修正 Ticket 年代平台座位選擇演算法準確度（正確使用演算法選定的連續座位）
- 改善 Ticket 年代平台座位選擇邏輯（加入 DOM 位置追蹤，處理複雜座位排列）
- 修正 KHAM 平台座位選擇演算法（使用真實 DOM 位置追蹤提升準確度）

## 2025.10.15

- 新增 KHAM 寬宏與 Ticket 年代平台的智慧座位選擇功能（支援 8 種舞台方位偏好）
- 新增 KHAM 登入頁面驗證碼自動識別與填寫功能
- 改善 ibon 平台搶票速度
- 改善 KHAM 平台日期與區域選擇邏輯
- 修正 KHAM 首頁無限循環問題

## 2025.10.08

- 新增專案結構優化，所有程式碼和資源統一收納到 src/ 目錄
- 新增資源分類管理，圖示和音效檔案分離到 assets/ 目錄
- 改善 TicketPlus 日期選擇邏輯，正確處理預售狀態避免誤觸自動刷新
- 改善執行方式說明，提供從 src/ 或根目錄執行的清晰指令
- 修正新目錄結構下的檔案路徑引用和 import 語句

## 2025.10.03

- 新增 iBon 平台支援新版 Angular SPA Event 活動頁面格式
- 新增 iBon 平台 OCR 驗證碼連續失敗自動處理機制（3 次自動重試，5 次後切換手動輸入）
- 改善 iBon 平台關鍵字匹配準確度（同時檢查區域名稱與票價區內容）
- 改善 iBon 平台支援新版 EventBuy 頁面的票數選擇

## 2025.10.01

- 新增 iBon 平台搶票成功音效提醒功能（可在 settings.json 設定開關）
- 新增 iBon 平台無頭模式自動開啟結帳頁面，避免錯過付款時間
- 新增 iBon 平台驗證碼自動識別功能（NoDriver 引擎）
- 新增 iBon 平台完整購票流程：日期選擇 → 區域選擇 → 票數填寫 → 驗證碼識別 → 結帳提醒
- 改善 NoDriver 引擎四大平台（TixCraft、KKTIX、TicketPlus、iBon）核心功能完整性
- 改善 NoDriver API 開發指南文件結構，新增 iBon 實作範例

## 2025.09.30

- 新增 iBon 日期選擇支援多種格式（M/D、MM/DD、YY/MM/DD、YYYY/MM/DD）
- 新增 iBon 座位區域自動選擇功能（NoDriver 引擎）
- 新增座位區域關鍵字匹配與模式選擇回退策略
- 新增剩餘票數檢查，自動避開已售完區域
- 修正 iBon 日期選擇時偶爾卡住的問題

## 2025.09.26

- 新增 README.md 中的詳細平台支援狀態對照表
- 新增 NoDriver 引擎支援 KKTIX、TicketPlus遠大、TixCraft拓元三大平台（持續開發中）
- 新增平台測試狀況與問題回報的視覺化指標
- 改善使用者的平台選擇和引擎使用指引
- 修正 NoDriver TicketPlus 模組中的 JavaScript 字串模板語法錯誤

